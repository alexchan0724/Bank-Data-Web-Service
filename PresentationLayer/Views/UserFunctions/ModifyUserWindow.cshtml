@{
    ViewData["Title"] = "ModifyUserWindowtoNewDetails";
    string message = ViewBag.message;
    string error = ViewBag.Error;
}
<style>
    * {
        box-sizing: border-box;
    }

    #CreateUserForm {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50vh; /* Adjust height to vertically center */
    }

    .horizontal-layout {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px; /* Add some space between form fields and image selection */
    }

    .form-section, .image-section {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    input {
        margin-bottom: 10px;
        width: 300px;
        padding: 5px;
    }

        input[type="submit"] {
            width: 150px;
        }

    .image-preview {
        display: none;
        margin-top: 0px;
        max-width: 300px; /* Adjust the max width of the preview */
    }

    button {
        margin-bottom: 10px; /* Adds space between button and other elements */
    }

</style>

<div class="text-center">
    <button type="button" id="returnButton" onclick="performAuthParameters(document.getElementById('OldUsername').value, document.getElementById('PasswordHidden').value, 0, 'userProfileWindow')">Return</button>
    <h1 class="display-4">Modify User</h1>
</div>
<div id="CreateUserForm">
    @if (!string.IsNullOrEmpty(error))
    {
        <p>@error</p>
    }
    <div class="horizontal-layout">
        <div class="form-section">
            <input type="text" id="Username" name="username" placeholder="UserName" />
            <input type="text" id="Email" name="email" placeholder="Email" />
            <input type="text" id="Address" name="address" placeholder="Address" />
            <input type="text" id="PhoneNo" name="phoneNo" placeholder="Phone Number" />
            <input type="password" id="Password" name="userPassword" placeholder="Password" />
            <input type="hidden" id="PasswordHidden" name="userPasswordHidden" value="@Model.password" />
            <input type="file" id="fileInput" name="userImage" accept="image/*" />
            <input type="hidden" id="isAdmin" name="isAdmin" value="@Model.isAdmin"/>
            <button type="button" id="modifyUser" onclick="modifyUser()">Modify Account</button>

            <input type="hidden" id="OldUsername" name="oldUsername" value="@Model.username" />
            <input type="hidden" id="OldEmail" name="oldEmail" value="@Model.email" />
        </div>
    </div>
</div>

<script>
    const fileInput = document.getElementById('fileInput');

    fileInput.addEventListener("change", e => {
        const file = fileInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
            }
            reader.readAsDataURL(file);
        }
    });
</script>